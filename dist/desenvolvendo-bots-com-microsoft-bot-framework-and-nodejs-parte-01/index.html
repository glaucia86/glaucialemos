<!DOCTYPE html>
<html lang="pt-br">
  <head>
    <meta charset="UTF-8" />
    <title>Desenvolvendo Bots com Microsoft Bot Framework &amp; Node.Js ‚Äì Parte 01 // Glaucia Lemos</title>
    <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <meta name="HandheldFriendly" content="true" />

    <link rel="shortcut icon" href="/code.ico" type="image/x-icon">

    <link rel="stylesheet" href="/css/main.css" />
    <link rel="stylesheet" href="/css/highlight.css" />
    <link rel="stylesheet" href="/css/senna.css" />

    <script src="/js/senna.min.js"></script>
    <script src="/js/headroom.min.js"></script>
    <script src="/js/main.js"></script>

    <!-- Inspectlet -->
    <script>
      window.__insp = window.__insp || [];
      __insp.push(['wid', 772378335]);
      (function () {
        function __ldinsp() {
          const insp = document.createElement('script');
          insp.type = 'text/javascript';
          insp.async = true;
          insp.id = 'inspsync';
          insp.src = `${document.location.protocol == 'https:' ? 'https' : 'http'
    }://cdn.inspectlet.com/inspectlet.js`;
          const x = document.getElementsByTagName('script')[0];
          x.parentNode.insertBefore(insp, x);
        }
        if (window.attachEvent) {
          window.attachEvent('onload', __ldinsp);
        } else {
          window.addEventListener('load', __ldinsp, false);
        }
      }());
    </script>

    <!-- Google Analytics -->
    <script>
      (function (i, s, o, g, r, a, m) {
        i.GoogleAnalyticsObject = r;
        (i[r] = i[r]
    || function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
        (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      }(
  window,
  document,
  'script',
  '//www.google-analytics.com/analytics.js',
  'ga',
));
      ga('create', 'UA-4114546-2', 'auto');
      ga('send', 'pageview');
    </script>
  </head>
  <body data-senna data-senna-surface>
    <div class="senna-loading-bar"></div>

    <header class="site-header site-header-white">
      <a href="/" class="logo">Glaucia Lemos</a>
    
      <nav class="site-nav">
        <ul>
          <li><a href="/articles/">Artigos</a></li>
          <li><a href="/resume/">Curr√≠culo</a></li>
          <li><a href="/talks/">Palestras</a></li>
          <li><a href="/projects/">Projetos</a></li>
          <li><a href="/about/">Sobre Mim</a></li>
          <li><a href="/thoughts/">Pensamentos</a></li>
          <li><a href="/contact/">Entre em Contato</a></li>
        </ul>
      </nav>
    
      <div class="nav-social">
        <a href="https://github.com/glaucia86" title="GitHub">
          <svg viewBox="0 0 512 512">
            <path
              d="M256 70.7c-102.6 0-185.9 83.2-185.9 185.9 0 82.1 53.3 151.8 127.1 176.4 9.3 1.7 12.3-4 12.3-8.9V389.4c-51.7 11.3-62.5-21.9-62.5-21.9 -8.4-21.5-20.6-27.2-20.6-27.2 -16.9-11.5 1.3-11.3 1.3-11.3 18.7 1.3 28.5 19.2 28.5 19.2 16.6 28.4 43.5 20.2 54.1 15.4 1.7-12 6.5-20.2 11.8-24.9 -41.3-4.7-84.7-20.6-84.7-91.9 0-20.3 7.3-36.9 19.2-49.9 -1.9-4.7-8.3-23.6 1.8-49.2 0 0 15.6-5 51.1 19.1 14.8-4.1 30.7-6.2 46.5-6.3 15.8 0.1 31.7 2.1 46.6 6.3 35.5-24 51.1-19.1 51.1-19.1 10.1 25.6 3.8 44.5 1.8 49.2 11.9 13 19.1 29.6 19.1 49.9 0 71.4-43.5 87.1-84.9 91.7 6.7 5.8 12.8 17.1 12.8 34.4 0 24.9 0 44.9 0 51 0 4.9 3 10.7 12.4 8.9 73.8-24.6 127-94.3 127-176.4C441.9 153.9 358.6 70.7 256 70.7z"
            ></path>
          </svg>
        </a>
      </div>
    </header>
  </body>
</html>

<main class="post">
  <div class="post-content post-article">
    <div class="post-container">
      <h1 class="post-title">Desenvolvendo Bots com Microsoft Bot Framework &amp; Node.Js ‚Äì Parte 01</h1>
      <h2 class="post-subtitle">Apr 25, 2018</h2>
       <p>Fala, pessoal! Tudo certo?</p>
<p style='text-align: justify;'>
  Como promessa √© d√≠vida, estou aqui com uma s√©rie de artigos no iMasters, sobre desenvolvimento de ChatBots com Microsoft Bot Framework & Node.Js.
</p>

<p style='text-align: justify;'>
  Nesta primeira parte, explicarei o que s√£o Bots e a import√¢ncia do uso deles em todas as esferas comerciais, sendo: e-commerce, booking, booking flight, entre outros ‚Äì e claro, o nosso primeiro: Hello World!
</p>

<p style='text-align: justify;'>
  Na segunda parte iremos aprofundar um pouco mais, pois iremos trabalhar com dialogs para deixar o nosso ChatBot mais interativo para o usu√°rio.
</p>

<p style='text-align: justify;'>
  Na terceira parte falarei sobre o uso de um servi√ßo cognitivo chamado <b><a href="https://luis.ai/">LUIS</a></b> (Language Understanding Intelligent Service). Isso mesmo que voc√™s est√£o lendo! Explicarei nos artigos vindouros sobre o LUIS, e na √∫ltima parte, como fazer o deploy do seu ChatBot na plataforma <b><a href="https://azure.microsoft.com/pt-br/">Azure</a></b>!
</p>

<p>Eu n√£o perderia essa s√©rie por nada! E voc√™s?</p>
<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/image3.jpg"/>  
</p>

<h2 id="breve-introdu-o-o-que-seria-um-bot-">Breve introdu√ß√£o: o que seria um Bot?</h2>
<p style='text-align: justify;'>
  Bot √© um diminutivo de Robot e √© usado como uma ferramenta para implementar o conceito de Conversa√ß√£o como Plataforma de acordo com agentes inteligentes que interagem com di√°logos de conversa√ß√£o. Eles nos permitem interagir por meio de:
</p>

<ul>
<li>Textos</li>
<li>Voz</li>
<li>V√≠deos</li>
<li>Imagens</li>
<li>Bot√µes/A√ß√µes</li>
</ul>
<p style='text-align: justify;'>
  Conseguimos enxergar uma infinidade de usos de ChatBots em plataformas de mensagerias como, por exemplo: Telegram, Skype, Facebook, ou em plataformas de e-commerce como a Magazine Luiza, com a Lu, a empresa iFood e outros exemplos.
</p>

<p style='text-align: justify;'>
  Os ChatBots nos auxiliam a responder quest√µes de um determinado produto que compramos ou aderimos, sem a necessidade de, por exemplo, contar com um servi√ßo de Telemarketing que tem hora para funcionar, uma vez que um ChatBot estar√° na plataforma do cliente 24 horas por dia.
</p>

<h2 id="ok-entendi-mas-como-eu-identifico-um-bot-">Ok, entendi. Mas como eu identifico um bot?</h2>
<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/image5-1.gif"/>  
</p>

<p style='text-align: justify;'>
  Simples. Eu sempre digo nas minhas palestras que o melhor exemplo de um Bot √© justamente o Jarvis, que √© o assistente do Homem de Ferro. #GoTeamIronMan!
</p>

<p style='text-align: justify;'>
  Um outro exemplo que podemos observar √© a Cortana, um bot de reconhecimento de voz onde voc√™ pergunta, por exemplo: ‚ÄúQual √© a temperatura no Rio de Janeiro hoje?‚Äù. E ela fornecer√° a resposta!
</p>

<p style='text-align: justify;'>
  Mas, abaixo podemos ver algumas caracter√≠sticas que nos auxiliam a identificar um Bot. Basta imaginar um Bot com as seguintes caracter√≠sticas:
</p>

<ul>
<li>‚ÄúAssistente‚Äù ou ‚ÄúSecret√°rio(a)‚Äù</li>
<li>Interage com o usu√°rio ‚Äúconversando‚Äù em Linguagem Natural</li>
<li>Se comunica por meio de: texto, voz e v√≠deo</li>
<li>Possui tarefas e habilidades espec√≠ficas</li>
</ul>
<p style='text-align: justify;'>
  Como j√° citado acima, voc√™ pode encontrar os bots em diferente esferas, sendo:
</p>

<ul>
<li>Atendimento ao cliente</li>
<li>Experi√™ncia de Compras</li>
<li>Help Desk</li>
<li>Suporte ao Empregado</li>
</ul>
<h2 id="puxa-ent-o-bots-s-o-intelig-ncia-artificial-">Puxa, ent√£o bots s√£o intelig√™ncia artificial?</h2>
<p style='text-align: justify;'>
  A resposta para essa pergunta, √©: N√£o! Por que? Uma vez que, eles s√≥ processam: voz, textos, imagens e v√≠deos. E sem contar que fazem uso de servi√ßos cognitivos externos, como por exemplo: LUIS e PLN.
</p>

<p style='text-align: justify;'>
  Quem sabe um dia teremos um BB8 em nossas casas, que nos auxiliem com tudo! Ou melhor: SOPHIA!
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/image6.gif"/>  
</p>

<h2 id="mas-como-eu-posso-desenvolver-um-bot-">Mas como eu posso Desenvolver um bot?!</h2>
<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/image1-5.png"/>  
</p>

<p style='text-align: justify;'>
  O Microsoft Bot Framework auxilia no desenvolvimento dos ChatBots, com um SDK que nos permite desenvolver em C# e Node.Js. √â uma plataforma totalmente open source, inclusive h√° uma documenta√ß√£o muito bem explicada e extensiva sobre o assunto <b><a href="https://docs.microsoft.com/en-us/azure/bot-service/?view=azure-bot-service-3.0">neste link (v.3)</a></b>.
</p>

<p style='text-align: justify;'>
  E a cereja do bolo ‚Äì por assim dizer ‚Äì do Bot Framework, √© que o seu SDK permite conectar o seu ChatBot com in√∫meros canais, entre eles:
</p>

<ul>
<li>Skype</li>
<li>Slack</li>
<li>Telegram</li>
<li>Twitter</li>
<li>Office 365</li>
<li>Entre outros</li>
</ul>
<p style='text-align: justify;'>
  E o segredo disso tudo est√° nessa arquitetura Bot Connector, conforme voc√™s podem perceber na imagem abaixo:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/OR.jpg"/>  
</p>

<p style='text-align: justify;'>
  Notem que no meio temos o Bot Builder, que nada mais √© que do que o SDK que ir√° interagir com a linguagem (regras de l√≥gica ou neg√≥cios do seu Bot) com o Bot Framework Connector, onde o resultado final √© enviar o seu ChatBot para alguns daqueles canais listados, podendo ser: Skype, Telegram ou Slack.
</p>

<p style='text-align: justify;'>
  O Bot Builder SDK √© um projeto open source! Caso voc√™s queiram contribuir para esse lindo projeto, n√£o deixem de fazer os PR‚Äôs para ajudar. O link est√° aqui.
</p>

<p style='text-align: justify;'>
  O mais legal √© que o Bot Builder nos permite desenvolver excelentes di√°logos com Node.Js e C#. E nesta s√©rie que farei aqui, o enfoque ser√° totalmente em Node.Js, porque Node √© vida!
</p>

<p style='text-align: justify;'>
  Antes de mais nada, para seguir e desenvolver esse Bot, √© necess√°ria a instala√ß√£o dos itens abaixo:
</p>

<ul>
<li><a href="https://nodejs.org/en/">Instalar Node.Js</a></li>
<li><a href="https://github.com/Microsoft/BotFramework-Emulator/releases">Instalar Microsoft Bot Framework Emulator - v. 3.x</a></li>
<li><a href="https://code.visualstudio.com/">Instalar Visual Studio Code</a></li>
<li><a href="https://www.python.org/downloads/">Instalar a vers√£o Python 2.x</a></li>
<li><a href="https://github.com/nodejs/node-gyp">Instalar globalmente o node-gyp: acompanhar a documenta√ß√£o</a></li>
</ul>
<p>Depois de instalar tudo, poderemos come√ßar a codar!</p>
<h2 id="desenvolvendo-o-meu-primeiro-bot-">Desenvolvendo o meu primeiro bot!</h2>
<p style='text-align: justify;'>
  Para desenvolvermos o Bot, pe√ßo que abram o Visual Studio Code e depois o prompt de comando. Com ele aberto, digitem o comando abaixo:
</p>

<pre><code class="hljs javascript">&gt; npm init -f</code></pre>

<p style='text-align: justify;'>
  Feito isso, voc√™ criar√° o package.json de maneira padr√£o, assim como na imagem abaixo:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/ACC.jpg"/>  
</p>

<p style='text-align: justify;'>
  Agora podemos instalar as nossas depend√™ncias. Para isso, digitem o seguinte comando:
</p>

<pre><code class="hljs javascript">&gt; npm install --save botbuilder npm install --save restify</code></pre>

<p style='text-align: justify;'>
  Feita a instala√ß√£o, estaremos prontos para desenvolver algumas linhas de c√≥digo em Node.Js e consequentemente o nosso ChatBot!
</p>

<p style='text-align: justify;'>
  Bom, como √© uma sequencia de artigos sobre ChatBots, vou pedir que sigam o padr√£o de estrutura do projeto, pois assim estarei dividindo em quatro partes os c√≥digos, como na imagem abaixo:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/image4-2.png"/>  
</p>

<p style='text-align: justify;'>
  Como podem notar, dentro da pasta ‚Äúparte-1‚Äù, criei um arquivo chamado: olaMundo.js. Vamos criar o nosso primeiro bot nesse arquivo.
</p>

<p>Para isso, sigam o c√≥digo abaixo:</p>
<pre><code class="hljs javascript">&gt; <span class="hljs-keyword">var</span> restify = <span class="hljs-built_in">require</span>(<span class="hljs-string">'restify'</span>);

<span class="hljs-keyword">var</span> builder = <span class="hljs-built_in">require</span>(<span class="hljs-string">'botbuilder'</span>);

<span class="hljs-comment">//Configura√ß√£o do Server via Restify:</span>

<span class="hljs-keyword">var</span> server = restify.createServer();

server.listen(process.env.port || process.env.PORT || <span class="hljs-number">3978</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{

<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'%s Aplica√ß√£o est√° executando na porta %s'</span>, server.name, server.url);

});

<span class="hljs-comment">//Cria√ß√£o do chat connector para comunicar com o servi√ßo do Bot Framework:</span>

<span class="hljs-keyword">var</span> connector = <span class="hljs-keyword">new</span> builder.ChatConnector({

<span class="hljs-attr">appId</span>:<span class="hljs-string">''</span>,

<span class="hljs-attr">appPassword</span>:<span class="hljs-string">''</span>

});

<span class="hljs-comment">//Endpoint para executar as mensagens para os usu√°rios via Bot Emulator:</span>

server.post(<span class="hljs-string">"/api/messages"</span>, connector.listen());

<span class="hljs-comment">//Aqui entra os nossos di√°logos:</span>

<span class="hljs-keyword">var</span> bot = <span class="hljs-keyword">new</span> builder.UniversalBot(connector, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">session</span>) </span>{

session.send(<span class="hljs-string">"Voc√™ disse: %s"</span>, session.message.text);

});</code></pre>

<p style='text-align: justify;'>
  Agora podemos executar o nosso primeiro ChatBot no Emulator. Para isso, abram o emulator e executem o comando abaixo:
</p>

<pre><code class="hljs javascript">&gt; npm install nodemon -g</code></pre>

<p>Depois, dentro da pasta-1, o seguinte comando:</p>
<pre><code class="hljs javascript">&gt; nodemon olaMundo.js</code></pre>

<p style='text-align: justify;'>
  Com isso, no prompt de comando aparecer√° a seguinte mensagem abaixo:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/PO-1.jpg"/>  
</p>

<p style='text-align: justify;'>
  Agora abram o Emulator e coloquem as configura√ß√µes conforme na imagem abaixo:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/LASK.jpg"/>  
</p>

<p style='text-align: justify;'>
  Cliquem em Connect, escrevam qualquer coisa no texto abaixo e vejam o resultado:
</p>

<p align="center">
  <img src="https://static.imasters.com.br/wp-content/uploads/2018/04/BAR.jpg"/>  
</p>

<p style='text-align: justify;'>
  Notem que esse bot em especial replica aquilo que voc√™s digitam. Por enquanto n√£o estamos trabalhando com di√°logos, mas conforme formos avan√ßando nesta s√©rie, deixaremos o nosso ChatBot mais interativo e inteligente!
</p>

<p style='text-align: justify;'>
  Caso tenham d√∫vidas a respeito do c√≥digo desenvolvido, deixarei aqui duas refer√™ncias:
</p>

<ul>
<li><a href="https://github.com/glaucia86/chatbot-nodejs-imasters">C√≥digo no GitHub</a></li>
<li><a href="https://youtu.be/ziHcgSZ7j0Q">S√©rie de v√≠deos sobre Bots com Node.js + Microsoft Bot Framework</a>:</li>
</ul>
<p style='text-align: justify;'>
  No pr√≥ximo artigo falarei sobre o uso de Dialogs, pois eles nos possibilitam deixar os nossos ChatBots mais legais e f√°ceis de interagir com o usu√°rio!
</p>

<p style='text-align: justify;'>
  √â isso, pessoal! Um forte abra√ßo para todos e at√© a pr√≥xima! üòçüòç
</p>






    </div>
  </div>
</main>

</body>
</html>
